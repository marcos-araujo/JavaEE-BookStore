<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
    <ui:composition template="/templates/_admin_template.xhtml">
    
    	<ui:param name="cadastro" value="active" />
    
    	<ui:define name="body">
    
	    	<h1>Cadastro de Livros</h1>
			<h:form enctype="multipart/form-data">
				<h:inputHidden value="#{livrosBean.livro.id}" id="id" styleClass="form-control" />
		       	
		       	<div class="form-group">
		            <h:outputLabel value="Título" />
		            <h:inputText value="#{livrosBean.livro.titulo}" required="true" id="titulo" styleClass="form-control" />
		            <h:message for="titulo" />
		        </div>
		        <div class="form-group">
		            <h:outputLabel value="Descrição"/>
		            <h:inputTextarea rows="4" cols="20" required="true" value="#{livrosBean.livro.descricao}" id="descricao" styleClass="form-control" />
		            <h:message for="descricao" />
		        </div>
		        
		        <div class="form-row">
		        	<div class="form-group col-md-4">
			            <h:outputLabel value="Número de Páginas"/>
			            <h:inputText value="#{livrosBean.livro.numeroPaginas}" required="true" id="numeroPaginas" styleClass="form-control" />
			            <h:message for="numeroPaginas" />
		        	</div>
		        	<div class="form-group col-md-4">
			            <h:outputLabel value="Preço"/>
			            <h:inputText value="#{livrosBean.livro.preco}" required="true" id="preco" styleClass="form-control" />
			            <h:message for="preco" />
		        	</div>
		        	<div class="form-group col-md-4">
					    <h:outputLabel value="Data de Publicação" />
					    <h:inputText value="#{livrosBean.livro.dataPublicacao}" required="true" id="dataPublicacao" styleClass="form-control dataPublicacao" />
					    <h:message for="dataPublicacao" />
		        	</div>
		        </div>
		        
		        <div class="form-group">
				    <h:outputLabel value="Autores" />
				    <h:selectManyListbox value="#{livrosBean.livro.autores}" converter="autorConverter" id="autores" styleClass="form-control">
				        <f:selectItems value="#{livrosBean.autores}" var="autor" itemValue="#{autor}" itemLabel="#{autor.nome}" />
				    </h:selectManyListbox>
				</div>
				
				<div class="form-group">
				    <h:outputLabel value="Capa" />	
				    <br />
					
					<h:graphicImage width="200" rendered="#{livrosBean.livro.capaPath ne null}" value="/file/#{livrosBean.livro.capaPath}" />
					
				    <h:inputFile rendered="#{livrosBean.livro.capaPath eq null}" required="true" value="#{livrosBean.capaLivro}" id="capaLivro" styleClass="form-control" />
				    
				    <h:message for="capaLivro" />
				</div>
		        <h:commandButton value="Salvar" action="#{livrosBean.salvar}" styleClass="btn btn-primary" />	    
	        </h:form>
	        
		</ui:define>

	</ui:composition>

</html>